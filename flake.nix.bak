{
  description = "Aaron's Personal Flake";

  outputs = inputs: import ./hosts inputs;

  inputs = {
    nixpkgs.url = "nixpkgs/nixos-24.05";
    nixpkgs-unstable.url = "nixpkgs/nixos-unstable";
    nixos-hardware.url = "github:NixOS/nixos-hardware/master";

    home-manager = {
      url = "github:nix-community/home-manager/release-24.05";
      inputs.nixpkgs.follows = "nixpkgs";
    };

    anyrun = {
      url = "github:anyrun-org/anyrun";
      inputs.nixpkgs.follows = "nixpkgs";
    };
  };

}

# outputs = { inputs }
#   } @ inputs:
#   let
#     unfreeConfig = {
#       allowUnfree = true;
#       allowUnfreePredicate = (_: true);
#     };

#     systems = {
#       x86_64 = {
#         name = "x86_64-linux";
#         pkgs = import nixpkgs {
#           system = name;
#           config = unfreeConfig;
#         };
#         pkgs-unstable = import nixpkgs-unstable {
#           system = name;
#           config = unfreeConfig;
#         };
#       };

#       aarch64-linux = {
#         name = "aarch64-linux";
#         pkgs = import nixpkgs {
#           system = name;
#           config = unfreeConfig;
#         };

#         pkgs-unstable = import nixpkgs-unstable {
#           system = name;
#           config = unfreeConfig;
#         };
#       };
#     };

#     default-username = "aargonian";
#     lib = nixpkgs.lib;

# in {
#   nixosConfigurations = {

#   };


#   homeConfigurations = {
#     ${vm-id} = home-manager.lib.homeManagerConfiguration {
#       pkgs = systems.aarch64-linux.pkgs;
#       modules = [
#         ./home.nix
#       ];
#       extraSpecialArgs = {
#         inherit inputs;
#         inherit anyrun;
#         username = vm-username;
#         pkgs-unstable = systems.aarch64-linux.pkgs-unstable;
#       };
#     };

#     "${rpi-id}" = home-manager.lib.homeManagerConfiguration {
#       pkgs = systems.aarch64-linux.pkgs;
#       modules = [
#         ./home.nix
#       ];
#       extraSpecialArgs = {
#         inherit inputs;
#         inherit anyrun;
#         username = rpi-username;
#         pkgs-unstable = systems.aarch64-linux.pkgs-unstable;
#       };
#     };

#     "${desktop-id}" = home-manager.lib.homeManagerConfiguration {
#       pkgs = systems.x86_64-linux.pkgs;
#       modules = [
#         ./home.nix
#       ];
#       extraSpecialArgs = {
#         inherit inputs;
#         inherit anyrun;
#         username = desktop-username;
#         pkgs-unstable = systems.x86_64-linux.pkgs-unstable;
#       };
#     };

#     "${framework-id}" = home-manager.lib.homeManagerConfiguration {
#       pkgs = systems.x86_64-linux.pkgs;
#       modules = [
#         ./home.nix
#       ];
#       extraSpecialArgs = {
#         inherit inputs;
#         inherit anyrun;
#         username = framework-username;
#         pkgs-unstable = systems.x86_64-linux.pkgs-unstable;
#       };
#     };
#   };
